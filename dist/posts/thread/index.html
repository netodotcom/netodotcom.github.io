<!DOCTYPE html>
<html lang="en">
  <head><style>:where(img){height:auto}</style>
    <meta charset="UTF-8">
    <meta content="width=device-width" name="viewport">
    <link href="/favicon.svg" rel="icon" type="image/svg+xml">
    <link href="https://astro-paper.pages.dev/posts/thread/" rel="canonical">
    <meta content="Astro v2.1.6" name="generator">

    <!-- General Meta Tags -->
    <title>Threads</title>
    <meta content="Threads" name="title">
    <meta content="This post aims to provide a comprehensive understanding of threads and their pratical applications. It covers the fundamentals of threads and offers pratical guidance on how to use them effectively. This post will discuss how to use threads in a program, not at the OS level." name="description">
    <meta content="Neto Silveira" name="author">

    <!-- Open Graph / Facebook -->
    <meta content="Threads" property="og:title">
    <meta content="This post aims to provide a comprehensive understanding of threads and their pratical applications. It covers the fundamentals of threads and offers pratical guidance on how to use them effectively. This post will discuss how to use threads in a program, not at the OS level." property="og:description">
    <meta content="https://astro-paper.pages.dev/posts/thread/" property="og:url">
    <meta content="https://astro-paper.pages.dev/Threads.png" property="og:image">

    <!-- Twitter -->
    <meta content="summary_large_image" property="twitter:card">
    <meta content="https://astro-paper.pages.dev/posts/thread/" property="twitter:url">
    <meta content="Threads" property="twitter:title">
    <meta content="This post aims to provide a comprehensive understanding of threads and their pratical applications. It covers the fundamentals of threads and offers pratical guidance on how to use them effectively. This post will discuss how to use threads in a program, not at the OS level." property="twitter:description">
    <meta content="https://astro-paper.pages.dev/Threads.png" property="twitter:image">

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,400;0,500;0,600;0,700;1,400;1,600&display=swap" rel="stylesheet">

    

    <script src="/toggle-theme.js"></script>
  <link href="/_astro/about.8c6c483d.css" rel="stylesheet">
<link href="/_astro/about.9dee87f4.css" rel="stylesheet">
<link href="/_astro/_slug_.faea2550.css" rel="stylesheet">
<link href="/_astro/_slug_.77dedcfe.css" rel="stylesheet">
<link href="/_astro/_slug_.5d5f7e01.css" rel="stylesheet">
<link href="/_astro/_slug_.d833ca2a.css" rel="stylesheet"><script type="module">const e=document.querySelector(".hamburger-menu"),n=document.querySelector("#menu-items")?.classList,t=document.querySelector(".icon-container")?.classList,o=document.querySelector("#first-line")?.classList,a=document.querySelector("#second-line ")?.classList,s=document.querySelector("#third-line")?.classList;e?.addEventListener("click",function(){"false"===e?.getAttribute("aria-expanded")?(e?.setAttribute("aria-expanded","true"),e?.setAttribute("aria-label","Close Menu"),n?.remove("display-none"),t?.remove("flex"),t?.add("relative"),o?.add("rotate-45","absolute","bottom-1/2"),s?.add("display-none"),a?.add("!w-full","-rotate-45","absolute","bottom-1/2")):(e?.setAttribute("aria-expanded","false"),e?.setAttribute("aria-label","Open Menu"),n?.add("display-none"),t?.add("flex"),t?.remove("relative"),o?.remove("rotate-45","absolute","bottom-1/2"),s?.remove("display-none"),a?.remove("!w-full","-rotate-45","absolute","bottom-1/2"))});</script></head>
  <body>
    <header class="astro-3EF6KSR2">
  <a href="#main-content" class="astro-3EF6KSR2" id="skip-to-content">Skip to content</a>
  <div class="astro-3EF6KSR2 nav-container">
    <div class="astro-3EF6KSR2 top-nav-wrap">
      <a href="/" class="astro-3EF6KSR2 logo">
        Neto
      </a>
      <nav class="astro-3EF6KSR2" id="nav-menu">
        <button class="astro-3EF6KSR2 focus-outline hamburger-menu" aria-label="Open Menu" aria-controls="menu-items" aria-expanded="false">
          <div class="astro-3EF6KSR2 flex icon-container">
            <div class="astro-3EF6KSR2" id="first-line"></div>
            <div class="astro-3EF6KSR2" id="second-line"></div>
            <div class="astro-3EF6KSR2" id="third-line"></div>
          </div>
        </button>
        <ul class="astro-3EF6KSR2 display-none sm:flex" id="menu-items">
          <li class="astro-3EF6KSR2">
            <a href="/posts" class="astro-3EF6KSR2">
              Posts
            </a>
          </li>
          <li class="astro-3EF6KSR2">
            <a href="/tags" class="astro-3EF6KSR2">
              Tags
            </a>
          </li>
          <!-- <li>
            <a href="/about" class={activeNav === "about" ? "active" : ""}>
              About
            </a>
          </li> -->
          <li class="astro-3EF6KSR2">
            <a href="/search" class="astro-3EF6KSR2 focus-outline astro-5EUNQZKT group p-3 sm:p-1" tabindex="0" title="Search" type="button" aria-label="search">
  <svg class="astro-3EF6KSR2 scale-125 sm:scale-100" xmlns="http://www.w3.org/2000/svg"><path d="M19.023 16.977a35.13 35.13 0 0 1-1.367-1.384c-.372-.378-.596-.653-.596-.653l-2.8-1.337A6.962 6.962 0 0 0 16 9c0-3.859-3.14-7-7-7S2 5.141 2 9s3.14 7 7 7c1.763 0 3.37-.66 4.603-1.739l1.337 2.8s.275.224.653.596c.387.363.896.854 1.384 1.367l1.358 1.392.604.646 2.121-2.121-.646-.604c-.379-.372-.885-.866-1.391-1.36zM9 14c-2.757 0-5-2.243-5-5s2.243-5 5-5 5 2.243 5 5-2.243 5-5 5z" class="astro-3EF6KSR2"/>
              </svg>
</a>
          </li>
          <li class="astro-3EF6KSR2">
            <button class="astro-3EF6KSR2 focus-outline" aria-label="auto" aria-live="polite" id="theme-btn" title="Toggles light & dark">
                  <svg class="astro-3EF6KSR2" xmlns="http://www.w3.org/2000/svg" id="moon-svg">
                    <path d="M20.742 13.045a8.088 8.088 0 0 1-2.077.271c-2.135 0-4.14-.83-5.646-2.336a8.025 8.025 0 0 1-2.064-7.723A1 1 0 0 0 9.73 2.034a10.014 10.014 0 0 0-4.489 2.582c-3.898 3.898-3.898 10.243 0 14.143a9.937 9.937 0 0 0 7.072 2.93 9.93 9.93 0 0 0 7.07-2.929 10.007 10.007 0 0 0 2.583-4.491 1.001 1.001 0 0 0-1.224-1.224zm-2.772 4.301a7.947 7.947 0 0 1-5.656 2.343 7.953 7.953 0 0 1-5.658-2.344c-3.118-3.119-3.118-8.195 0-11.314a7.923 7.923 0 0 1 2.06-1.483 10.027 10.027 0 0 0 2.89 7.848 9.972 9.972 0 0 0 7.848 2.891 8.036 8.036 0 0 1-1.484 2.059z" class="astro-3EF6KSR2"/>
                  </svg>
                  <svg class="astro-3EF6KSR2" xmlns="http://www.w3.org/2000/svg" id="sun-svg">
                    <path d="M6.993 12c0 2.761 2.246 5.007 5.007 5.007s5.007-2.246 5.007-5.007S14.761 6.993 12 6.993 6.993 9.239 6.993 12zM12 8.993c1.658 0 3.007 1.349 3.007 3.007S13.658 15.007 12 15.007 8.993 13.658 8.993 12 10.342 8.993 12 8.993zM10.998 19h2v3h-2zm0-17h2v3h-2zm-9 9h3v2h-3zm17 0h3v2h-3zM4.219 18.363l2.12-2.122 1.415 1.414-2.12 2.122zM16.24 6.344l2.122-2.122 1.414 1.414-2.122 2.122zM6.342 7.759 4.22 5.637l1.415-1.414 2.12 2.122zm13.434 10.605-1.414 1.414-2.122-2.122 1.414-1.414z" class="astro-3EF6KSR2"/>
                  </svg>
                </button>
          </li>
        </ul>
      </nav>
    </div>
  </div>
  <div class="max-w-3xl mx-auto px-4">
  <hr aria-hidden="true" class="border-skin-line">
</div>
</header><div class="astro-VJ4TPSPI flex justify-start max-w-3xl mx-auto px-2 w-full">
    <button class="astro-VJ4TPSPI flex focus-outline hover:opacity-75 mb-2 mt-8" onclick="history.back()">
      <svg class="astro-VJ4TPSPI" xmlns="http://www.w3.org/2000/svg"><path d="M13.293 6.293 7.586 12l5.707 5.707 1.414-1.414L10.414 12l4.293-4.293z" class="astro-VJ4TPSPI"/>
      </svg><span class="astro-VJ4TPSPI">Go back</span>
    </button>
  </div><main class="astro-VJ4TPSPI" id="main-content">
    <h1 class="astro-VJ4TPSPI post-title">Threads</h1>
    <div class="astro-VJ4TPSPI flex items-center my-2 opacity-80 space-x-2"><svg class="inline-block fill-skin-base h-6 scale-100 w-6" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M7 11h2v2H7zm0 4h2v2H7zm4-4h2v2h-2zm0 4h2v2h-2zm4-4h2v2h-2zm0 4h2v2h-2z"/><path d="M5 22h14c1.103 0 2-.897 2-2V6c0-1.103-.897-2-2-2h-2V2h-2v2H9V2H7v2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2zM19 8l.001 12H5V8h14z"/></svg><span class="sr-only">Posted on:</span><span class="italic text-base">March 10, 2023<span aria-hidden="true"> | </span><span class="sr-only"> at </span>12:22 PM</span></div>
    <article class="astro-VJ4TPSPI max-w-3xl mx-auto mt-8 prose" id="article" role="article">
      <p><a href="https://github.com/netodotcom/threads" rel="noopener noreferrer" target="_blank">Github repository</a></p>
<p>Threads are the smallest unit of execution in a program, and they allow multiple tasks to be executed concurrently within the same program. In a multi-threaded application, each thread runs independently and has its own execution path, allowing for parallel processing of tasks.</p>
<p>When working with an API that writes to a database, threads are important because they allow for concurrent database operations. This can significantly improve the performance and responsiveness of the application, as multiple threads can be used to execute database queries or write data to the database simultaneously.</p>
<p>Without threads, database operations would have to be executed sequentially, which could lead to performance issues and slower response times. By using threads, multiple database operations can be executed in parallel, reducing the overall time needed to complete these tasks.</p>
<p>However, it’s important to note that concurrent access to a database can also lead to issues like data inconsistency and race conditions. Proper synchronization mechanisms, like locks or semaphores, should be implemented to ensure that the database is accessed safely and consistently by all threads.</p>
<h1 id="introduction">Introduction</h1>
<p>Consider the scenario of a computer with a single core where four programs are currently running simultaneaously. To deal with it, the computer must utilize concurrency and *virtual paralelism techniques to handle the four programs running simultaneousy and the associated instructions, despite the computer’s capacity being limited to executing only one instruction at a time.
The processor has a unity to thread management (Thread Management Unit - TMU) which make the management access of threads to the CPU and the Scheduling algorithms are responsable to determine which program’s instruction gonna be executed next.</p>
<ul>
<li>Virtual parallelism is a simulation of multiple processes or threads in a single processor or core.</li>
</ul>
<p>Consider another scenario of a computer with two cores where four programs are currently running simultaneously. In this case, program 1 and program 2 are using core 1, and program 3 and program 4 are using core 2.
Let’s assume that program 1 has high priority; then, it can be assigned to the entire core 1 while the other programs share core 2.</p>
<h1 id="threads-synchronization">Threads synchronization</h1>
<p>Techniques like lock, semaphore and synchronization can be utilized to manage resources and resolve concurrency problems effectively.</p>
<p>Click <a href="https://github.com/netodotcom/threads/tree/main/Conflicts" rel="noopener noreferrer" target="_blank">here</a> to see these examples and understand how they can be used.</p>
<h1 id="threads-states">Threads states</h1>
<p>A thread begins it’s life cycle as new and remains in that state until it become runnable.
Once the thread is ready to execute, it does so, and it’s subsequent states may be affected by external factors, such as higher-priority threads that need to be executed or any exceptions that the thread may throw.
Assuming no exception occurs, the thread is eventually terminated. It is possible to view many details about threads states using logs (Java has build-in support for thread logging through the <code>java.util.logging</code>) and this topic will be discussed later.</p>
<p>Threads can be in some states:</p>
<ul>
<li>
<h4 id="new">New</h4>
<blockquote>
<p>When thread has been created but not yet started.</p>
</blockquote>
</li>
<li>
<h4 id="runnable">Runnable</h4>
<blockquote>
<p>When thread has been started and ready to be executed but it may not be currently running.</p>
</blockquote>
</li>
<li>
<h4 id="blocked">Blocked</h4>
<blockquote>
<p>When thread is temporary unable to run for specific reason.</p>
</blockquote>
</li>
<li>
<h4 id="waiting">Waiting</h4>
<blockquote>
<p>When thread is waiting for a condition or event to occur.</p>
</blockquote>
</li>
<li>
<h4 id="timed-waiting">Timed waiting</h4>
<blockquote>
<p>When thread is waiting for a specific period of time.</p>
</blockquote>
<p><a href="https://github.com/netodotcom/threads/blob/main/Sleep/Sleep.java" rel="noopener noreferrer" target="_blank">Here</a> is an example of using the ‘sleep’ method to put a thread in timed waiting state.</p>
</li>
<li>
<h4 id="terminated">Terminated</h4>
<blockquote>
<p>When thread finish because it was completed or termined due to an exepction or error.</p>
</blockquote>
</li>
</ul>
<h1 id="priority">Priority</h1>
<p>When a thread is created, it is possible to define its priority. If no priority is defined then the thread is assigned with normal (default).
In java, there is a priority scale ranging from 1 to 10, and constants MIN_PRIORITY (1), NORMAL_PRIORITY (5) MAX_PRIORITY (10)
The method <code>public void setPriority(x)</code> can be used to set the thread’s priority.</p>
<p>Although the operation system (OS) is responsible for managing and scheduling the execution of threads based on their priorities and OTHERS FACTORS. Therefore, even if a thread has a priority defined, OS has the final say in deciding which thread to execute first.</p>
<h1 id="scheduling">Scheduling</h1>
<p>OS have a thread scheduling that works with its own algorithms. Each OS, such as Windows, Linux, macOS, android and others has its own unique algorithm. It’s an important OS topic and you can find a good reference in this link <a href="https://os.cs.luc.edu/scheduling.html">https://os.cs.luc.edu/scheduling.html</a></p>
    </article>

    <ul class="astro-VJ4TPSPI tags-container">
      <li class="astro-BLWJYJPT inline-block my-1 underline-offset-4">
  <a href="/tags/java" class="astro-BLWJYJPT group pr-2 text-sm">
    <svg class="astro-BLWJYJPT scale-75" xmlns="http://www.w3.org/2000/svg"><path d="M16.018 3.815 15.232 8h-4.966l.716-3.815-1.964-.37L8.232 8H4v2h3.857l-.751 4H3v2h3.731l-.714 3.805 1.965.369L8.766 16h4.966l-.714 3.805 1.965.369.783-4.174H20v-2h-3.859l.751-4H21V8h-3.733l.716-3.815-1.965-.37zM14.106 14H9.141l.751-4h4.966l-.752 4z" class="astro-BLWJYJPT"/>
    </svg>
    &nbsp;<span class="astro-BLWJYJPT">java</span>
  </a>
</li><li class="astro-BLWJYJPT inline-block my-1 underline-offset-4">
  <a href="/tags/threads" class="astro-BLWJYJPT group pr-2 text-sm">
    <svg class="astro-BLWJYJPT scale-75" xmlns="http://www.w3.org/2000/svg"><path d="M16.018 3.815 15.232 8h-4.966l.716-3.815-1.964-.37L8.232 8H4v2h3.857l-.751 4H3v2h3.731l-.714 3.805 1.965.369L8.766 16h4.966l-.714 3.805 1.965.369.783-4.174H20v-2h-3.859l.751-4H21V8h-3.733l.716-3.815-1.965-.37zM14.106 14H9.141l.751-4h4.966l-.752 4z" class="astro-BLWJYJPT"/>
    </svg>
    &nbsp;<span class="astro-BLWJYJPT">threads</span>
  </a>
</li><li class="astro-BLWJYJPT inline-block my-1 underline-offset-4">
  <a href="/tags/concurrency" class="astro-BLWJYJPT group pr-2 text-sm">
    <svg class="astro-BLWJYJPT scale-75" xmlns="http://www.w3.org/2000/svg"><path d="M16.018 3.815 15.232 8h-4.966l.716-3.815-1.964-.37L8.232 8H4v2h3.857l-.751 4H3v2h3.731l-.714 3.805 1.965.369L8.766 16h4.966l-.714 3.805 1.965.369.783-4.174H20v-2h-3.859l.751-4H21V8h-3.733l.716-3.815-1.965-.37zM14.106 14H9.141l.751-4h4.966l-.752 4z" class="astro-BLWJYJPT"/>
    </svg>
    &nbsp;<span class="astro-BLWJYJPT">concurrency</span>
  </a>
</li>
    </ul>
  </main><footer class="astro-SZ7XMLTE mt-auto">
  <div class="max-w-3xl mx-auto px-0">
  <hr aria-hidden="true" class="border-skin-line">
</div>
  <div class="astro-SZ7XMLTE footer-wrapper">
    <div class="flex astro-UPU6FZXR social-icons">
  <a href="https://github.com/netodotcom" class="group astro-5EUNQZKT astro-UPU6FZXR link-button" tabindex="0" title=" Neto on Github" type="button">
  <svg class="icon-tabler" xmlns="http://www.w3.org/2000/svg" stroke-linecap="round" stroke-linejoin="round">
    <path d="M0 0h24v24H0z" fill="none" stroke="none"/>
    <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5"/>
  </svg>
</a><a href="https://linkedin.com/in/netow" class="group astro-5EUNQZKT astro-UPU6FZXR link-button" tabindex="0" title="Neto on LinkedIn" type="button">
  <svg class="icon-tabler" xmlns="http://www.w3.org/2000/svg" stroke-linecap="round" stroke-linejoin="round">
    <path d="M0 0h24v24H0z" fill="none" stroke="none"/>
    <rect height="16" rx="2" width="16" x="4" y="4"/>
    <line x1="8" x2="8" y1="11" y2="16"/>
    <line x1="8" x2="8" y1="8" y2="8.01"/>
    <line x1="12" x2="12" y1="16" y2="11"/>
    <path d="M16 16v-3a2 2 0 0 0 -4 0"/>
  </svg>
</a>
</div>
    <div class="astro-SZ7XMLTE copyright-wrapper">
      <span class="astro-SZ7XMLTE">Copyright &#169; 2023</span>
      <span class="astro-SZ7XMLTE separator">&nbsp;|&nbsp;</span>
      <span class="astro-SZ7XMLTE">Theme based on astro-paper</span>
    </div>
  </div>
</footer>
  </body></html>